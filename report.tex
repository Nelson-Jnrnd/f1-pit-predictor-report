\documentclass[
    iict, % Saisir le nom de l'institut rattaché
    il, % Saisir le nom de l'orientation
    %confidential, % Décommentez si le travail est confidentiel
]{heig-tb}

\usepackage[nooldvoltagedirection,european,americaninductors]{circuitikz}
\usepackage{lscape}
\signature{mbernasconi.svg} % Remplacer par votre propre signature vectorielle.

\makenomenclature
\makenoidxglossaries
\makeindex

\addbibresource{bibliography.bib}

\input{nomenclature}
\input{acronyms}
\input{glossary}
\input{meta}

\surroundwithmdframed{minted}

%% Début du document
\begin{document}
\selectlanguage{french}
\maketitle
\frontmatter
\clearemptydoublepage

%% Requis par les dispositions générales des travaux de Bachelor
\preamble
\authentification

%% Résumé / Résumé publiable / Version abrégée
\begin{abstract}
    \input{abstract}
\end{abstract}

%% Sommaire et tables
\clearemptydoublepage
{
    \tableofcontents
    \let\cleardoublepage\clearpage
    \listoffigures
    \let\cleardoublepage\clearpage
    \listoftables
    %    \let\cleardoublepage\clearpage
    %    \listoflistings
}

\printnomenclature
\clearemptydoublepage
\pagenumbering{arabic}

%% Contenu
\mainmatter
\chapter{Introduction}
\input{introduction.tex}
\chapter{Données}
\input{dataset.tex}
%\input{examples.tex}
\chapter{Expériences}
\input{experience.tex}
\chapter{Conclusion}
\input{conclusion.tex}

\clearpage
\printbibliography

\appendix
\appendixpage
\addappheadtotoc
\chapter{Première annexe}
\begin{table}[H]
    \begin{center}
        \caption{\label{Paramètres de la simulation}Paramètres de la simulation utilisées pour les examples en introduction}
        \begin{tabular}{l|l}
            $N$                                & 70   \\
            $t_{optimal}$                      & 95   \\
            $t_{penalite}$                     & 0.06 \\
            $p_{depart}$                       & 110  \\
            $d_{per\textit{f}ormance}(tendre)$ & 0    \\
            $d(tendre)$                        & 0.2  \\
            $\delta{d(tendre)}$                & 0.1  \\
            $d_{per\textit{f}ormance(medium)}$ & 0.75 \\
            $d(medium)$                        & 0.08 \\
            $\delta{d(medium)}$                & 0.08 \\
            $d_{per\textit{f}ormance}(dur)$    & 1.5  \\
            $d(dur)$                           & 0.06 \\
            $\delta{d(dur)}$                   & 0.07 \\
            $t_pitstop$                        & 25   \\
            $t_pitstop_safety_car$             & 15   \\
        \end{tabular}
    \end{center}
\end{table}
\begin{landscape}
    \begin{table}[H]
        \begin{center}
            \caption{Flux "\label{Live Timing}Live Timing" de la voiture 31 pendant le Grand Prix de Monaco 2021}
            \begin{tabular}{llllllllll}
                LapNumber & Driver & LapTime         & Stint & TotalLaps & Compound & New & TyresNotChanged & Time            & LapFlags \\ \hline
                2         & 31     & 00:01:20.154000 & 0     & -         & -        & -   & -               & 00:35:51.209000 & 1        \\
                3         & 31     & 00:01:19.421000 & 0     & -         & -        & -   & -               & 00:37:05.565000 & -        \\
                -         & 31     &                 & 0     & 3         & -        & -   & -               & 00:37:05.940000 & -        \\
                4         & 31     & 00:01:18.494000 & 0     & -         & -        & -   & -               & 00:38:24.008000 & -        \\
                -         & 31     &                 & 0     & 4         & -        & -   & -               & 00:38:25.951000 & -        \\
                5         & 31     &                 & 0     & -         & -        & -   & -               & 00:39:42.570000 & -        \\
                -         & 31     &                 & 0     & 5         & -        & -   & -               & 00:39:45.937000 & -        \\
                -         & 31     &                 & 0     & 6         & -        & -   & -               & 00:41:05.970000 & -        \\
                -         & 31     &                 & 0     & 7         & -        & -   & -               & 00:42:20.948000 & -        \\
                8         & 31     & 00:01:17.967000 & 0     & -         & -        & -   & -               & 00:43:37.668000 & -        \\
                -         & 31     &                 & 0     & 8         & -        & -   & -               & 00:43:40.948000 & -        \\
                9         & 31     &                 & 0     & -         & -        & -   & -               & 00:44:56.051000 & -        \\
                -         & 31     &                 & 0     & 9         & -        & -   & -               & 00:45:00.953000 & -        \\
                -         & 31     &                 & 0     & 10        & -        & -   & -               & 00:46:15.975000 & -        \\
                11        & 31     & 00:01:17.770000 & 0     & -         & -        & -   & -               & 00:47:32.098000 & -        \\
                -         & 31     &                 & 0     & 11        & -        & -   & -               & 00:47:35.967000 & -        \\
                12        & 31     & 00:01:17.677000 & 0     & -         & -        & -   & -               & 00:48:49.775000 & -
            \end{tabular}
        \end{center}
    \end{table}
\end{landscape}

\chapter{Deuxième annexe\label{sec:features}}

\fig[H, width=0.9\textwidth]{
    Distribution de la colonne LapNumber.
    On remarque que la distribution est très uniforme, car la variable augmente linéairement au fil de la course.
    On remarque par contre qu'elle est asymétrique, car certaines voitures ne terminent pas la course et certaines courses sont plus longues que d'autres.
}{LapNumber_distribution.svg}

\fig[H, width=0.9\textwidth]{
    Distribution de la colonne LapTime.
}{LapTime_distribution.svg}

\fig[H, width=0.9\textwidth]{
    Distribution de la colonne Stint.
    Elle est similaire à celle de TyreLife pour les mêmes raisons.
}{Stint_distribution.svg}

\fig[H, width=0.9\textwidth]{
    Distribution de la colonne NumberOfPitStops.
    Elle est identique à Stint car NumberOfPitsStops = Stint - 1.
}{NumberOfPitStops_distribution.svg}

\fig[H, width=0.9\textwidth]{
    Distribution de la colonne Position.
    Elle est uniforme avec une asymétrie à droite en raison des voitures qui se retirent avant la fin des courses.
}{Position_distribution.svg}

\fig[H, width=0.9\textwidth]{
    Distribution de la colonne GapToLeader,
    La distribution est très concentrée autour de 0 étant donné que le leader de la course est toujours à 0.
    La distribution est très asymétrique à droite, ce qui est logique, car la plupart des pilotes sont assez près du leader au début de la course.
}{GapToLeader_distribution.svg}

\fig[H, width=0.9\textwidth]{
    Distribution de la colonne DistanceToDriverAhead.
}{DistanceToDriverAhead_distribution.svg}

\fig[H, width=0.9\textwidth]{
    Distribution de la colonne LapsToLeader
}{LapsToLeader_distribution.svg}

\fig[H, width=0.9\textwidth]{
    Distribution de la colonne TotalLaps
}{TotalLaps_distribution.svg}

\chapter{Troisième annexe}

\begin{table}[H]
    \begin{center}
        \caption{\label{grid_search_results}Résultats du GridSearchCV pour le modèle RandomForestClassifier optimisant le score F1.}
        \begin{tabular}{llllll}
            rang & class weight       & max depth & max features & n estimators & score    \\
            1    & balanced subsample & 5.0       & sqrt         & 2000         & 0.130011 \\
            2    & balanced           & 5.0       & sqrt         & 500          & 0.129973 \\
            3    & balanced subsample & 5.0       & sqrt         & 500          & 0.129856 \\
            4    & balanced subsample & 5.0       & log2         & 2000         & 0.129681 \\
            5    & balanced           & 5.0       & log2         & 2000         & 0.129667 \\
            6    & balanced           & 5.0       & sqrt         & 2000         & 0.129547 \\
            7    & balanced subsample & 5.0       & sqrt         & 1000         & 0.129496 \\
            8    & balanced           & 5.0       & sqrt         & 1000         & 0.129489 \\
            9    & balanced subsample & 5.0       & log2         & 1000         & 0.128940 \\
            10   & balanced subsample & 5.0       & log2         & 100          & 0.128932 \\
            11   & balanced           & 5.0       & log2         & 1000         & 0.128561 \\
            12   & balanced subsample & 5.0       & sqrt         & 100          & 0.128288 \\
            13   & balanced subsample & 5.0       & log2         & 500          & 0.127931 \\
            14   & balanced           & 5.0       & log2         & 500          & 0.127563 \\
            15   & balanced           & 5.0       & sqrt         & 100          & 0.127500 \\
            16   & balanced           & 5.0       & log2         & 100          & 0.126691 \\
            17   & balanced subsample & 5.0       & None         & 2000         & 0.122646 \\
            18   & balanced subsample & 5.0       & None         & 1000         & 0.122618 \\
            19   & balanced           & 5.0       & None         & 2000         & 0.122528 \\
            20   & balanced           & 5.0       & None         & 1000         & 0.122481 \\
            21   & balanced subsample & 5.0       & None         & 100          & 0.122207 \\
            22   & balanced subsample & 5.0       & None         & 500          & 0.122206 \\
            23   & balanced           & 5.0       & None         & 500          & 0.122176 \\
            24   & balanced           & 5.0       & None         & 100          & 0.121999 \\
            25   & balanced           & 20.0      & log2         & 100          & 0.090315 \\
            26   & balanced           & 20.0      & log2         & 500          & 0.087494 \\
            27   & balanced           & 20.0      & None         & 100          & 0.086376 \\
            28   & balanced subsample & 20.0      & None         & 100          & 0.084230 \\
            29   & balanced subsample & 20.0      & None         & 500          & 0.083750 \\
            30   & balanced subsample & 20.0      & log2         & 2000         & 0.083263 \\
            31   & balanced           & 20.0      & None         & 1000         & 0.083231 \\
            32   & balanced subsample & 20.0      & None         & 1000         & 0.083107 \\
            33   & balanced subsample & 20.0      & None         & 2000         & 0.082549 \\
            34   & balanced subsample & 20.0      & log2         & 500          & 0.082350 \\
            35   & balanced           & 20.0      & None         & 2000         & 0.082121 \\
            36   & balanced           & 20.0      & None         & 500          & 0.081996 \\
            37   & balanced           & 20.0      & log2         & 2000         & 0.081599 \\
            38   & balanced subsample & 20.0      & log2         & 100          & 0.080868 \\
            39   & balanced           & 20.0      & log2         & 1000         & 0.080385 \\
            40   & balanced subsample & 20.0      & log2         & 1000         & 0.078841 \\
            41   & balanced           & 20.0      & sqrt         & 100          & 0.069933 \\
            42   & balanced subsample & 20.0      & sqrt         & 100          & 0.066912 \\
            43   & balanced subsample & 20.0      & sqrt         & 1000         & 0.065213 \\
            44   & balanced subsample & 20.0      & sqrt         & 500          & 0.064601 \\
            45   & balanced subsample & 20.0      & sqrt         & 2000         & 0.063450 \\
            46   & balanced           & 20.0      & sqrt         & 2000         & 0.062764 \\
            47   & balanced           & 20.0      & sqrt         & 1000         & 0.062609 \\
            48   & balanced           & 20.0      & sqrt         & 500          & 0.058491 \\
            49   & balanced           & NaN       & None         & 500          & 0.004496 \\
            50   & balanced subsample & NaN       & None         & 1000         & 0.004484 \\
            51   & balanced subsample & NaN       & None         & 2000         & 0.004476 \\
            52   & balanced           & NaN       & None         & 2000         & 0.004339 \\
            53   & balanced subsample & NaN       & None         & 500          & 0.003473 \\
            54   & balanced subsample & NaN       & None         & 100          & 0.003272 \\
            55   & balanced           & NaN       & None         & 1000         & 0.003261 \\
            56   & balanced           & NaN       & sqrt         & 100          & 0.002188 \\
            57   & balanced           & NaN       & None         & 100          & 0.002000 \\
            58   & balanced subsample & NaN       & log2         & 2000         & 0.000000 \\
            58   & balanced           & NaN       & sqrt         & 2000         & 0.000000 \\
            58   & balanced           & NaN       & log2         & 2000         & 0.000000 \\
            58   & balanced           & NaN       & log2         & 1000         & 0.000000 \\
            58   & balanced           & NaN       & log2         & 500          & 0.000000 \\
            58   & balanced           & NaN       & log2         & 100          & 0.000000 \\
            58   & balanced           & NaN       & sqrt         & 1000         & 0.000000 \\
            58   & balanced subsample & NaN       & log2         & 1000         & 0.000000 \\
            58   & balanced           & NaN       & sqrt         & 500          & 0.000000 \\
            58   & balanced subsample & NaN       & sqrt         & 100          & 0.000000 \\
            58   & balanced subsample & NaN       & sqrt         & 1000         & 0.000000 \\
            58   & balanced subsample & NaN       & sqrt         & 2000         & 0.000000 \\
            58   & balanced subsample & NaN       & log2         & 100          & 0.000000 \\
            58   & balanced subsample & NaN       & log2         & 500          & 0.000000 \\
            58   & balanced subsample & NaN       & sqrt         & 500          & 0.000000
        \end{tabular}
    \end{center}
\end{table}

%%fi

\let\cleardoublepage\clearpage
\backmatter

\label{glossaire}
\printnoidxglossary
\label{index}
\printindex

% Le colophon est le dernier élément d'un document qui contient des notes de l'auteur concernant la mise en page et l'édition du document : il est parfaitement optionnel.
%\input{colophon.tex}

\end{document}
